{% extends 'base.html' %}
{% load rest_framework %}

{% block content %}

<h1>Contract - {{ contract }}</h1>

    {%  if request.user.team != "support" %}
    <label class="switch">
    <form method="POST">
            {% csrf_token %}
  <input type="submit" name="read_only" value = "update_mode_on">
  <span class="slider round"></span>
    </form>
</label>
    {% endif %}


<div class="snippet">
        <p class="date">last_update : {{ contract.date_updated }}</p>
<table>
    {% if contract.name%}
        <thead>
            <tr>
                <td class="td-infos">name :</td>
                <td class = titre>{{ contract.name}}</td>
            </tr>
        </thead>
            <tr>
                <td class="td-infos">customer : </td>
                <td>{{ contract.customer }}</td>
            </tr>
    {% else %}
        <thead>
            <tr>
                <td class="td-infos">customer :</td>
                <td class = titre>{{ contract.customer_id }}</td>
            </tr>
        </thead>
    {% endif %}
        <tbody>
            <tr>
                <td class="td-infos">sales_contact :</td>
                <td>{{ contract.sales_contact.username }}</td>
            </tr>
                <td class="td-infos">amount :</td>
                <td>{{ contract.amount }}</td>
            </tr>
            <tr>
                <td class="td-infos">payment_due</td>
                <td>{{ contract.payment_due }}</td>
            </tr>
            <tr>
                <td class="td-infos">date_created</td>
                <td>{{ contract.date_created }}</td>
            </tr>
            <tr>
                <td class="td-infos">status</td>
                <td>{{ contract.status }} </td>
            </tr>
        </tbody>
</table>
    <div class=customer-buttons>
    <a href="{% url 'customer_detail' contract.customer_id.id %}"><button>See the customer</button></a>
    <a href="{% url 'event_detail' contract.id %}"><button>See the event</button></a>
    </div>
</div>

{% endblock content %}